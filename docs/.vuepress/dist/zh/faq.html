<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="../img/app_76.png"><title>常见问题 | 智能设备SDK</title><meta name="description" content="">
    <link rel="modulepreload" href="/BravLib/assets/app.fbf7be5b.js"><link rel="modulepreload" href="/BravLib/assets/faq.html.e84ddb51.js"><link rel="modulepreload" href="/BravLib/assets/faq.html.8246ba9b.js"><link rel="modulepreload" href="/BravLib/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/BravLib/assets/style.74666a75.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/BravLib/zh/" class=""><!----><span class="site-name">智能设备SDK</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/BravLib/zh/" class="" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/BravLib/zh/api" class="" aria-label="api"><!--[--><!--]--> api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/BravLib/zh/faq" class="router-link-active" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.github.com" rel="noopener noreferrer" target="_blank" aria-label="更新记录"><!--[--><!--]--> 更新记录 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/BravLib/faq.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/BravLib/zh/faq.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/BravLib/zh/" class="" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/BravLib/zh/api" class="" aria-label="api"><!--[--><!--]--> api <!--[--><!--]--></a></div><div class="navbar-item"><a href="/BravLib/zh/faq" class="router-link-active" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.github.com" rel="noopener noreferrer" target="_blank" aria-label="更新记录"><!--[--><!--]--> 更新记录 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/BravLib/faq.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/BravLib/zh/faq.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">常见问题 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BravLib/zh/faq.html#app逻辑设计相关" class="router-link-active router-link-exact-active sidebar-item" aria-label="APP逻辑设计相关"><!--[--><!--]--> APP逻辑设计相关 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BravLib/zh/faq.html#是否需要绑定或配对设备" class="router-link-active router-link-exact-active sidebar-item" aria-label="是否需要绑定或配对设备？"><!--[--><!--]--> 是否需要绑定或配对设备？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#如何做成用户踩秤后-app马上响应" class="router-link-active router-link-exact-active sidebar-item" aria-label="如何做成用户踩秤后，APP马上响应"><!--[--><!--]--> 如何做成用户踩秤后，APP马上响应 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#测量完成后-是否需要立马断开蓝牙连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="测量完成后，是否需要立马断开蓝牙连接"><!--[--><!--]--> 测量完成后，是否需要立马断开蓝牙连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#数据如何分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据如何分析"><!--[--><!--]--> 数据如何分析 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/BravLib/zh/faq.html#sdk功能相关" class="router-link-active router-link-exact-active sidebar-item" aria-label="SDK功能相关"><!--[--><!--]--> SDK功能相关 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BravLib/zh/faq.html#连接设备一直无法成功或者成功后很快就断开连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="连接设备一直无法成功或者成功后很快就断开连接"><!--[--><!--]--> 连接设备一直无法成功或者成功后很快就断开连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#调用扫描成功且踩亮秤后-没有设备返回" class="router-link-active router-link-exact-active sidebar-item" aria-label="调用扫描成功且踩亮秤后，没有设备返回"><!--[--><!--]--> 调用扫描成功且踩亮秤后，没有设备返回 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#测量完成后没有体脂率等数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="测量完成后没有体脂率等数据"><!--[--><!--]--> 测量完成后没有体脂率等数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#扫描不到设备-该如何处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="扫描不到设备，该如何处理"><!--[--><!--]--> 扫描不到设备，该如何处理 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/BravLib/zh/faq.html#其他问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他问题"><!--[--><!--]--> 其他问题 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BravLib/zh/faq.html#是否可以给到体脂率等指标的计算方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="是否可以给到体脂率等指标的计算方法？"><!--[--><!--]--> 是否可以给到体脂率等指标的计算方法？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#什么是离线数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是离线数据"><!--[--><!--]--> 什么是离线数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#可否提供蓝牙协议" class="router-link-active router-link-exact-active sidebar-item" aria-label="可否提供蓝牙协议"><!--[--><!--]--> 可否提供蓝牙协议 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#为什么我们使用sdk测量出来的数据bravfit的数据会有差异" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么我们使用SDK测量出来的数据BravFit的数据会有差异"><!--[--><!--]--> 为什么我们使用SDK测量出来的数据BravFit的数据会有差异 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BravLib/zh/faq.html#线上版本出现蓝牙连接异常后-怎么排查问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="线上版本出现蓝牙连接异常后，怎么排查问题"><!--[--><!--]--> 线上版本出现蓝牙连接异常后，怎么排查问题 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h1><h2 id="app逻辑设计相关" tabindex="-1"><a class="header-anchor" href="#app逻辑设计相关" aria-hidden="true">#</a> APP逻辑设计相关</h2><h3 id="是否需要绑定或配对设备" tabindex="-1"><a class="header-anchor" href="#是否需要绑定或配对设备" aria-hidden="true">#</a> 是否需要绑定或配对设备？</h3><p>这里需要弄清一个概念，问题中提到的绑定或配对，是指在安卓/iOS中添加配对的蓝牙设备。通常一些标准设备是会需要的，比如蓝牙耳机，手写笔，手环。这些会需要在手机系统的蓝牙设置进行设置。但我们的秤不用，具体我们会在下问说明</p><p>蓝牙4.0，也就是BLE，是不需要绑定蓝牙设备就可以直接使用。我们的秤使用的私有协议，无法通过手机系统蓝牙直接使用，市面上面几乎所有的体脂秤都是如此。我们APP（BravFit）中的添加设备，仅仅让APP记住用户的秤，并非是手机系统的蓝牙配对。添加设备的过程也是引导用户如何使用体脂称。我们小程序是做成简单粗暴的方式，不用添加秤直接打开后，就上秤连接测量。</p><p>客户这边可自行决定是否需要添加该逻辑，建议如果是做成APP的一个小功能模块，是可以直接做成类似我们小程序那样，直接上秤测量，展示数据。</p><h3 id="如何做成用户踩秤后-app马上响应" tabindex="-1"><a class="header-anchor" href="#如何做成用户踩秤后-app马上响应" aria-hidden="true">#</a> 如何做成用户踩秤后，APP马上响应</h3><p>我们自己的APP（BravFit），在正常使用中，是让用户打开APP，踩亮秤，就马上测量，这样可以减少用户的操作步骤。其实说白了，就是打开APP后，APP自动调用SDK的一整套逻辑，无需用户点击选择设备之类的。具体实现步骤如下：</p><ol><li>进入测量界面后，检查蓝牙状态</li><li>蓝牙已打开，开始扫描</li><li>扫描到体脂秤，判断是否为已添加设备或者无需判断就直接连接（该处视APP的逻辑不同而不同）</li><li>连接成功，展示测量动画</li><li>测量完成，展示测量结果</li></ol><h3 id="测量完成后-是否需要立马断开蓝牙连接" tabindex="-1"><a class="header-anchor" href="#测量完成后-是否需要立马断开蓝牙连接" aria-hidden="true">#</a> 测量完成后，是否需要立马断开蓝牙连接</h3><p>通常无需主动断开与秤的连接，除非用户退出测量界面。</p><p>如果需要测量立马断开连接，最好也能够延时2s断开。</p><h3 id="数据如何分析" tabindex="-1"><a class="header-anchor" href="#数据如何分析" aria-hidden="true">#</a> 数据如何分析</h3><p>可以参考demo中的report部分</p><h2 id="sdk功能相关" tabindex="-1"><a class="header-anchor" href="#sdk功能相关" aria-hidden="true">#</a> SDK功能相关</h2><h3 id="连接设备一直无法成功或者成功后很快就断开连接" tabindex="-1"><a class="header-anchor" href="#连接设备一直无法成功或者成功后很快就断开连接" aria-hidden="true">#</a> 连接设备一直无法成功或者成功后很快就断开连接</h3><ul><li>检查设备是否被其他人连接了</li><li>在系统蓝牙中查看是否当前连接的设备已经被配对,如果已经配对，需要取消配对</li><li>部分手机需要先扫描才能连接成功，先扫描设备再进行连接</li></ul><h3 id="调用扫描成功且踩亮秤后-没有设备返回" tabindex="-1"><a class="header-anchor" href="#调用扫描成功且踩亮秤后-没有设备返回" aria-hidden="true">#</a> 调用扫描成功且踩亮秤后，没有设备返回</h3><ul><li>检查是否对<strong>ACCESS_COARSE_LOCATION</strong>和<strong>ACCESS_FINE_LOCATION</strong>都进行了申请，SDK中对2个权限都进行了校验</li><li>是否编译版本26以及以上，如果是，2个权限都需要单独申请(8.0的新特性)</li></ul><blockquote><p>安卓6.0以上，谷歌把蓝牙归类为定位功能的一部分，使用蓝牙扫描时，需要用户授权定位权限，不然调用扫描时，系统会提示需要定位权限 不打开定位服务开关时，也是有可能无法扫描到设备，原生大多数如此</p></blockquote><h3 id="测量完成后没有体脂率等数据" tabindex="-1"><a class="header-anchor" href="#测量完成后没有体脂率等数据" aria-hidden="true">#</a> 测量完成后没有体脂率等数据</h3><ol><li>是否有脱鞋进行测量。穿鞋测量时，无法测到生物阻抗，所以无法计算体脂率等指标</li></ol><h3 id="扫描不到设备-该如何处理" tabindex="-1"><a class="header-anchor" href="#扫描不到设备-该如何处理" aria-hidden="true">#</a> 扫描不到设备，该如何处理</h3><ol><li>检查是否打开蓝牙、是否有踩亮秤，手机是否跟秤相距过远（超过10米）</li><li>检查所扫描的设备，是否已经被其他人连接</li><li>如果是Android，则可以检查下是否有定位权限，另外是否有打开定位服务开关</li><li>尝试重启蓝牙，再不行，重启蓝牙试试。</li></ol><h2 id="其他问题" tabindex="-1"><a class="header-anchor" href="#其他问题" aria-hidden="true">#</a> 其他问题</h2><h3 id="是否可以给到体脂率等指标的计算方法" tabindex="-1"><a class="header-anchor" href="#是否可以给到体脂率等指标的计算方法" aria-hidden="true">#</a> 是否可以给到体脂率等指标的计算方法？</h3><p>暂时无法提供</p><h3 id="什么是离线数据" tabindex="-1"><a class="header-anchor" href="#什么是离线数据" aria-hidden="true">#</a> 什么是离线数据</h3><p>普通蓝牙秤在称重时未连接手机的情况下，秤会把数据存在秤体内，等下次连接蓝牙时，会把这些数据传给APP</p><p>由于SDK无法识别该用户是谁的，所以会把这个数据交由APP来分配，分配用户可以交给SDK来计算完整数据。</p><h3 id="可否提供蓝牙协议" tabindex="-1"><a class="header-anchor" href="#可否提供蓝牙协议" aria-hidden="true">#</a> 可否提供蓝牙协议</h3><p>原则上我们不会提供蓝牙协议，如果实在需要，可以跟我们的商务/销售沟通</p><h3 id="为什么我们使用sdk测量出来的数据bravfit的数据会有差异" tabindex="-1"><a class="header-anchor" href="#为什么我们使用sdk测量出来的数据bravfit的数据会有差异" aria-hidden="true">#</a> 为什么我们使用SDK测量出来的数据BravFit的数据会有差异</h3><p>比对<a href="/BravLib/zh/api.html#bravscaleuser" class="">BravScaleUser</a>中的所有属性是否完全一致，如果完全一致则可以咨询开发者</p><h3 id="线上版本出现蓝牙连接异常后-怎么排查问题" tabindex="-1"><a class="header-anchor" href="#线上版本出现蓝牙连接异常后-怎么排查问题" aria-hidden="true">#</a> 线上版本出现蓝牙连接异常后，怎么排查问题</h3><p>先查清用户的手机型号，如果可以的话，尽量使用跟客户同样的型号来测试。</p><p>注册日志输出接口<a href="/BravLib/api/QNLogListener.html" class="">QNLogListener</a>，记录相关日志（可以保存日志文件），发给我司开发人员进行分析。</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 820073292@qq.com">hdr</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/BravLib/assets/app.fbf7be5b.js" defer></script>
  </body>
</html>
